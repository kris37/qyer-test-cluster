<!--
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. See accompanying LICENSE file.
-->
<configuration>

  <property>
    <name>yarn.scheduler.capacity.maximum-applications</name>
    <value>100</value>
    <description>最多可同时处于等待和运行状态的应用程序数目,3node设置小数值</description>
  </property>

  <property>
    <name>yarn.scheduler.capacity.maximum-am-resource-percent</name>
    <value>0.1</value>
    <description>
      Maximum percent of resources in the cluster which can be used to run 
      application masters i.e. controls number of concurrent running
      applications.
    </description>
  </property>

    <property>
      <name>yarn.scheduler.capacity.resource-calculator</name>
      <value>org.apache.hadoop.yarn.util.resource.DefaultResourceCalculator</value>
        <description>
        The ResourceCalculator implementation to be used to compare 
        Resources in the scheduler.
        The default i.e. DefaultResourceCalculator only uses Memory while
        DominantResourceCalculator uses dominant-resource to compare 
        multi-dimensional resources such as Memory, CPU etc.
        </description>
    </property>

    <property> 
        <name>yarn.scheduler.capacity.root.capacity</name>  
        <value>100</value> 
    </property>

    <property>
      <name>yarn.scheduler.capacity.root.queues</name>
      <value>default,hadoop,algorithm</value>
      <!--,hive,hadoop,algorithm,etl for next -->
      <description>
        The queues at the this level (root is the root queue).
      </description>
    </property>

  <!--************************************************************************************************************-->
  <!--defalut queue max capacity is 20%-->
     <property>
      <name>yarn.scheduler.capacity.root.default.capacity</name>
      <value>20</value>
      <description>Default queue target capacity.</description>
    </property>
    <property>
      <name>yarn.scheduler.capacity.root.default.maximum-capacity</name>
      <value>20</value>
    <description>
      The maximum capacity of the default queue. 最大也是20% 
    </description>
  </property>
  <!--defalut每个队列下的 单个用户可占用队列的最大资源比例 60% total max echo user is .6*.2=0.12-->
  <property>
    <name>yarn.scheduler.capacity.root.default.user-limit-factor</name>
    <value>0.6</value>
    <description>
      Default queue user limit a percentage from 0.0 to 1.0.
    </description>
  </property>
  <property>
    <name>yarn.scheduler.capacity.root.default.state</name>
    <value>RUNNING</value>
    <description>
      The state of the default queue. State can be one of RUNNING or STOPPED.
    </description>
  </property>
  <!--defalut 不限制user limit-->
  <property>
    <name>yarn.scheduler.capacity.root.default.acl_submit_applications</name>
    <value>*</value>
    <description>
      The ACL of who can submit jobs to the default queue. Anyone
    </description>
  </property>
  <property>
    <name>yarn.scheduler.capacity.root.default.acl_administer_queue</name>
    <value>*</value>
    <description>
      The ACL of who can administer jobs on the default queue.
    </description>
  </property>
<!--************************************************************************************************************-->

  <!--hadoop queue settings-->
     <property>
      <name>yarn.scheduler.capacity.root.hadoop.capacity</name>
      <value>40</value>
      <description>Default queue target capacity.</description>
    </property>
    <property>
      <name>yarn.scheduler.capacity.root.hadoop.maximum-capacity</name>
      <value>60</value>
    <description>
      The maximum capacity of the hadoop queue. 最大是50% 
    </description>
  </property>
  <property>
    <name>yarn.scheduler.capacity.root.hadoop.user-limit-factor</name>
    <value>0.7</value>
    <description>
      Default queue user limit a percentage from 0.0 to 1.0.
    </description>
  </property>
  <property>
    <name>yarn.scheduler.capacity.root.hadoop.minimum-user-limit-percent</name>
    <value>50</value>
    <description>
    均衡分配资源,提交到此队列的job 的user 数过多时，占用资源最大的用户的资源不会超过这个值，但是如果时刻user只有1的话会占用不受此值限制会user-limit-factor 限制
    </description>
  </property>
  <property>
    <name>yarn.scheduler.capacity.root.hadoop.state</name>
    <value>RUNNING</value>
    <description>
      The state of the hadoop queue. State can be one of RUNNING or STOPPED.
    </description>
  </property>
  <!--hadoop 限制user limit-->
  <property>
    <name>yarn.scheduler.capacity.root.hadoop.acl_submit_applications</name>
    <value>root,hive,hue,spark,kylin,panqiang,xudong,zijing</value>
    <description>
      The ACL of who can submit jobs to the hadoop queue. Anyone
    </description>
  </property>
  <property>
    <name>yarn.scheduler.capacity.root.hadoop.acl_administer_queue</name>
    <value>root</value>
    <description>
      The ACL of who can administer jobs on the hadoop queue.
    </description>
  </property>

<!--************************************************************************************************************-->
  <!--algorithm queue settings-->
     <property>
      <name>yarn.scheduler.capacity.root.algorithm.capacity</name>
      <value>40</value>
      <description>Default queue target capacity.</description>
    </property>
    <property>
      <name>yarn.scheduler.capacity.root.algorithm.maximum-capacity</name>
      <value>40</value>
    <description>
      The maximum capacity of the algorithm queue. 最大是40% 
    </description>
  </property>
  <property>
    <name>yarn.scheduler.capacity.root.algorithm.user-limit-factor</name>
    <value>0.9</value>
    <description>
      Default queue user limit a percentage from 0.0 to 1.0.
    </description>
  </property>
  <property>
    <name>yarn.scheduler.capacity.root.algorithm.minimum-user-limit-percent</name>
    <value>50</value>
    <description>
    均衡分配资源,提交到此队列的job 的user 数过多时，占用资源最大的用户的资源不会超过这个值，但是如果时刻user只有1的话会占用不受此值限制会user-limit-factor 限制
  </property>
  <property>
    <name>yarn.scheduler.capacity.root.algorithm.state</name>
    <value>RUNNING</value>
    <description>
      The state of the algorithm queue. State can be one of RUNNING or STOPPED.
    </description>
  </property>
  <!--algorithm 限制user limit-->
  <property>
    <name>yarn.scheduler.capacity.root.algorithm.acl_submit_applications</name>
    <value>root,hive,hue,spark,kylin,panqiang,xudong,zijing</value>
    <description>
      The ACL of who can submit jobs to the algorithm queue. Anyone
    </description>
  </property>
  <property>
    <name>yarn.scheduler.capacity.root.algorithm.acl_administer_queue</name>
    <value>root</value>
    <description>
      The ACL of who can administer jobs on the algorithm queue.
    </description>
  </property>
<!--************************************************************************************************************-->
  <property>
    <name>yarn.scheduler.capacity.node-locality-delay</name>
    <value>3</value>
    <description>
      Number of missed scheduling opportunities after which the CapacityScheduler 
      attempts to schedule rack-local containers. 
      Typically this should be set to number of nodes in the cluster, By default is setting 
      approximately number of nodes in one rack which is 40.
    </description>
  </property>

  <property>
    <name>yarn.scheduler.capacity.queue-mappings</name>
    <value></value>
    <description>
      A list of mappings that will be used to assign jobs to queues
      The syntax for this list is [u|g]:[name]:[queue_name][,next mapping]*
      Typically this list will be used to map users to queues,
      for example, u:%user:%user maps all users to queues with the same name
      as the user.
    </description>
  </property>

  <property>
    <name>yarn.scheduler.capacity.queue-mappings-override.enable</name>
    <value>false</value>
    <description>
      If a queue mapping is present, will it override the value specified
      by the user? This can be used by administrators to place jobs in queues
      that are different than the one specified by the user.
      The default is false.
    </description>
  </property>

</configuration>
